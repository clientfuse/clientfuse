<div class="dashboard-page">
  <h3 class="title-heading-3">Dashboard</h3>

  <div class="dashboard-content">
    <mat-tab-group>
      <mat-tab label="'Manage Access' Link">
        <div class="tab-content">
          <div>
            <div class="subtitle-medium">'Manage Access' Link</div>
            <div class="body-smaller-text">To onboard new clients</div>
          </div>

          <div>üîó Share request via link</div>


          <div class="connect-link-row">
            <mat-form-field appearance="outline">
              <mat-label>'Manage Access' Link</mat-label>
              <input readonly matInput placeholder="Placeholder" [value]="manageAccessLink()" />
              <mat-hint>Copy the link and share it with your client</mat-hint>
            </mat-form-field>

            <button mat-icon-button matTooltip="Customize this link" (click)="openCustomizeAccessLinkModal(defaultManageLink()!)">
              <mat-icon>settings</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Copy link"
                    [cdkCopyToClipboard]="manageAccessLink()"
                    (cdkCopyToClipboardCopied)="onCopySuccess()">
              <mat-icon>content_copy</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Open this link in a new tab" (click)="openInNewTab(manageAccessLink())">
              <mat-icon>open_in_new</mat-icon>
            </button>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="'View Access' Link">
        <div class="tab-content">
          <div>
            <div class="subtitle-medium">'View Access' Link</div>
            <div class="body-smaller-text">To onboard new clients</div>
          </div>

          <div>üîó Share request via link</div>


          <div class="connect-link-row">
            <mat-form-field appearance="outline">
              <mat-label>'View Access' Link</mat-label>
              <input readonly matInput placeholder="Placeholder" [value]="viewAccessLink()" />
              <mat-hint>Copy the link and share it with your client</mat-hint>
            </mat-form-field>

            <button mat-icon-button matTooltip="Customize this link" (click)="openCustomizeAccessLinkModal(defaultViewLink()!)">
              <mat-icon>settings</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Copy link"
                    [cdkCopyToClipboard]="viewAccessLink()"
                    (cdkCopyToClipboardCopied)="onCopySuccess()">
              <mat-icon>content_copy</mat-icon>
            </button>

            <button mat-icon-button matTooltip="Open this link in a new tab" (click)="openInNewTab(viewAccessLink())">
              <mat-icon>open_in_new</mat-icon>
            </button>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Connection Links Management">
        <div class="tab-content w-100">
          <div class="subtitle-medium">Connection Links</div>
          <button mat-raised-button color="primary" (click)="createNewConnectionLink()">
            <mat-icon>add</mat-icon>
            Create New Connection Link
          </button>

          <table style="margin-top: 20px;">
            <thead>
            <tr>
              <th>ID</th>
              <th>Type</th>
              <th>Default</th>
              <th>Connection Link</th>
              <th>Actions</th>
            </tr>
            </thead>
            <tbody>
              @for (link of connectionLinks(); track link._id) {
                <tr>
                  <td>{{ link._id }}</td>
                  <td>
                    <app-badge
                      [text]="link.type === 'view' ? 'View' : 'Manage'"
                      [variant]="link.type === 'view' ? 'info' : 'warning'">
                    </app-badge>
                  </td>
                  <td>
                    @if (link.isDefault) {
                      <mat-icon color="primary">check_circle</mat-icon>
                    } @else {
                      <mat-icon>radio_button_unchecked</mat-icon>
                    }
                  </td>
                  <td>
                    <button mat-icon-button matTooltip="Copy link"
                            [cdkCopyToClipboard]="getConnectionLink(link._id)"
                            (cdkCopyToClipboardCopied)="onCopySuccess()">
                      <mat-icon>content_copy</mat-icon>
                    </button>
                    <button mat-icon-button matTooltip="Open link"
                            (click)="openInNewTab(getConnectionLink(link._id))">
                      <mat-icon>open_in_new</mat-icon>
                    </button>
                  </td>
                  <td>
                    <button mat-icon-button matTooltip="Edit settings"
                            (click)="openCustomizeAccessLinkModal(link)">
                      <mat-icon>edit</mat-icon>
                    </button>
                    @if (!link.isDefault) {
                      <button mat-icon-button matTooltip="Set as default"
                              (click)="setAsDefaultConnectionLink(link._id)">
                        <mat-icon>star_border</mat-icon>
                      </button>
                      <button mat-icon-button matTooltip="Delete"
                              (click)="deleteConnectionLink(link._id)">
                        <mat-icon>delete</mat-icon>
                      </button>
                    }
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </mat-tab>
    </mat-tab-group>

    <mat-tab-group>
      <mat-tab label="Client Summary">
        <div class="tab-content w-100">
          <table>
            <thead>
            <tr>
              <th>#</th>
              <th>Client</th>
              <th>Assets</th>
              <th>Requested Partners</th>
              <th>Connections</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>1</td>
              <td><a href="#" class="link link-blue">Teach Fast</a></td>
              <td>
                <ul>
                  <li>‚úÖ Google Analytics Account: styles.com.ua (188251058)</li>
                  <li>‚ö†Ô∏è Meta Ad Account: Main (9068114896565705)</li>
                  <li>‚úÖ Facebook Page: Teach Fast (481084805089953)</li>
                </ul>
              </td>
              <td>
                <ul>
                  <li>Facebook: Old Business (191843779016692)</li>
                  <li>Google: olegbespalko12gmail.com</li>
                </ul>
              </td>
              <td>
                <ul>
                  <li>Tue, Nov 19, 2024 5:48 PM (<a href="#" class="link link-blue">Manage link</a>)</li>
                  <li>Tue, Nov 19, 2024 5:47 PM (<a href="#" class="link link-blue">Manage link</a>)</li>
                </ul>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </mat-tab>
      <mat-tab label="Connections">
        <div class="tab-content w-100">
          <table>
            <thead>
            <tr>
              <th>#</th>
              <th>Summary</th>
              <th>Request Details</th>
              <th>Date</th>
              <th>Assets</th>
              <th>Access Level</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>1</td>
              <td><a href="#" class="link link-blue">Summary Details</a></td>
              <td>
                Facebook: Old Business (191843779016692), Google Accounts:
                <a href="#" class="link link-blue">olegbespalko12gmail.com</a>
              </td>
              <td>Tue, Nov 19, 2024 5:48 PM</td>
              <td>
                <ul>
                  <li>‚úÖ Google Analytics Account: styles.com.ua (188251058)</li>
                  <li>‚ö†Ô∏è Meta Ad Account: Main (9068114896565705)</li>
                </ul>
              </td>
              <td>Manage</td>
            </tr>
            <tr>
              <td>2</td>
              <td><a href="#" class="link link-blue">Summary Details</a></td>
              <td>
                Facebook: Old Business (191843779016692)
                <a href="#" class="link link-blue">link</a>
              </td>
              <td>Tue, Nov 19, 2024 5:47 PM</td>
              <td>
                <ul>
                  <li>‚ö†Ô∏è Meta Ad Account: Main (9068114896565705)</li>
                  <li>‚úÖ Facebook Page: Teach Fast (481084805089953)</li>
                </ul>
              </td>
              <td>Manage</td>
            </tr>
            </tbody>
          </table>
        </div>
      </mat-tab>
      <mat-tab label="Custom Requests">
        <div class="tab-content w-100">
          <table>
            <thead>
            <tr>
              <th>#</th>
              <th>Link</th>
              <th>Request Email</th>
              <th>Assets (Requesting Partner)</th>
              <th>Access Level</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>1</td>
              <td><a href="#" class="link link-blue">View üîó</a></td>
              <td>olegbespalko12gmail.com</td>
              <td>
                <ul>
                  <li>Meta Ad Account (Old Business)</li>
                  <li>Facebook Page (Old Business)</li>
                </ul>
              </td>
              <td>Manage</td>
            </tr>
            </tbody>
          </table>

        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
